import './login.html'import swal from 'sweetalert2';import 'sweetalert2/dist/sweetalert2.min.css';Template.LoginPage.onCreated(function () {  // set default tab to 'login'  this.currentTab = new ReactiveVar("LoginUnibzSection");});Template.LoginPage.events({  'submit #login-unibz-form': function (event, template) {    // Prevent default browser form submit    event.preventDefault();    // Get value from form element    const target = event.target;    const username = target.username.value;    const password = target.password.value;    // Login    Meteor.loginWithPassword(username, password, (error) => {      if (error) swal('Error', error.reason, 'error');      else {        Router.go('/admin/' + username);        // Clear form        template.find("#login-unibz-form").reset();      }    });  },  'submit #login-externals-form': function (event, template) {    // TODO  },  'submit #signup-admin-form': function (event, template) {    // Prevent default browser form submit    event.preventDefault();    // Get value from form element    const target = event.target;    const masterPassword = target.master_password.value;    const username = target.username.value;    const password = target.password.value;    const firstName = target.first_name.value;    const lastName = target.last_name.value;    const gender = target.gender.value;    let user = {      username: username,      password: password,      createParticipant: false,      profile: {        university: 'UniBz',        gender: gender,        firstName: firstName,        lastName: lastName      }    };    // check master password    Meteor.call('users.create', user, 'admin', masterPassword, function (error) {      if (error) swal('Error', error.message, 'error');      else {        // Login        Meteor.loginWithPassword(username, password, (error) => {          if (error) swal('Error', error.reason, 'error')        });        // Clear form        template.find("#signup-admin-form").reset();      }    });  },  'click .switchButton': function (event, template) {    template.currentTab.get() == 'LoginUnibzSection' ? template.currentTab.set('LoginExternalsSection') : template.currentTab.set('LoginUnibzSection');  },  'click .sn-section-subtitle': function (event, template) {    template.currentTab.set('CreateAdminSection')  }});Template.LoginPage.helpers({  tab: function () {    return Template.instance().currentTab.get();  }});Template.LoginPage.onDestroyed(function () {  // remove the class so it does not appear on other routes  // $('body').removeClass('login-body');});